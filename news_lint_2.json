[{"filePath":"D:\\work\\arGM_Admin\\src\\views\\apps\\news\\EditorToolbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"lines-around-comment","replacedBy":[]},{"ruleId":"padding-line-between-statements","replacedBy":[]},{"ruleId":"newline-before-return","replacedBy":["padding-line-between-statements"]}]},{"filePath":"D:\\work\\arGM_Admin\\src\\views\\apps\\news\\NewsEditor.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'finalStatus' is assigned a value but never used.","line":188,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":188,"endColumn":26}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\n// React Imports\r\nimport { useState, useEffect } from 'react'\r\n\r\n// Next Imports\r\nimport { useRouter, useSearchParams } from 'next/navigation'\r\n\r\n// MUI Imports\r\nimport Button from '@mui/material/Button'\r\nimport Card from '@mui/material/Card'\r\nimport CardContent from '@mui/material/CardContent'\r\nimport CardHeader from '@mui/material/CardHeader'\r\nimport Grid from '@mui/material/Grid2'\r\nimport TextField from '@mui/material/TextField'\r\nimport MenuItem from '@mui/material/MenuItem'\r\nimport Select from '@mui/material/Select'\r\nimport InputLabel from '@mui/material/InputLabel'\r\nimport FormControl from '@mui/material/FormControl'\r\nimport Typography from '@mui/material/Typography'\r\nimport Divider from '@mui/material/Divider'\r\nimport IconButton from '@mui/material/IconButton'\r\nimport InputAdornment from '@mui/material/InputAdornment'\r\nimport Chip from '@mui/material/Chip'\r\nimport OutlinedInput from '@mui/material/OutlinedInput'\r\nimport Radio from '@mui/material/Radio'\r\nimport RadioGroup from '@mui/material/RadioGroup'\r\nimport FormControlLabel from '@mui/material/FormControlLabel'\r\nimport FormLabel from '@mui/material/FormLabel'\r\n\r\n// Third-party Imports\r\nimport { useForm, useFieldArray, Controller } from 'react-hook-form'\r\nimport { useEditor, EditorContent } from '@tiptap/react'\r\nimport { StarterKit } from '@tiptap/starter-kit'\r\nimport { Underline } from '@tiptap/extension-underline'\r\nimport { Placeholder } from '@tiptap/extension-placeholder'\r\nimport { TextAlign } from '@tiptap/extension-text-align'\r\nimport DatePicker from 'react-datepicker'\r\n\r\n// Style Imports\r\nimport 'react-datepicker/dist/react-datepicker.css'\r\n\r\n// Local Imports\r\nimport EditorToolbar from './EditorToolbar'\r\nimport '@/libs/styles/tiptapEditor.css'\r\n\r\ntype Section = {\r\n    title: string\r\n    content: string\r\n    imageUrl: string\r\n}\r\n\r\ntype FormValues = {\r\n    category: string\r\n    newsHeadline: string\r\n    mainImage: string\r\n    relatedNews: string[]\r\n    sections: Section[]\r\n    status: 'published' | 'scheduled' | 'draft'\r\n    publishedDate: Date | null\r\n}\r\n\r\ntype Category = {\r\n    id: string\r\n    title: string\r\n}\r\n\r\ntype NewsPost = {\r\n    id: string\r\n    newsHeadline: string\r\n    status: string\r\n    publishedDate: string | null\r\n\n    /* ... other fields ... */\r\n}\r\n\r\ntype Props = {\r\n    isDrawer?: boolean\r\n    handleClose?: () => void\r\n    dataToEdit?: NewsPost\r\n    onSuccess?: () => void\r\n}\r\n\r\nconst TiptapEditor = ({ value, onChange }: { value: string; onChange: (content: string) => void }) => {\r\n    const editor = useEditor({\r\n        extensions: [\r\n            StarterKit,\r\n            Placeholder.configure({\r\n                placeholder: 'Write section content here...'\r\n            }),\r\n            TextAlign.configure({\r\n                types: ['heading', 'paragraph']\r\n            }),\r\n            Underline\r\n        ],\r\n        content: value,\r\n        onUpdate: ({ editor }) => {\r\n            onChange(editor.getHTML())\r\n        },\r\n        immediatelyRender: false\r\n    })\r\n\r\n    return (\r\n        <Card className='p-0 border shadow-none'>\r\n            <CardContent className='p-0'>\r\n                <EditorToolbar editor={editor} />\r\n                <Divider className='mli-5' />\r\n                <EditorContent editor={editor} className='bs-[135px] overflow-y-auto flex ' />\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\n\r\nconst NewsEditor = ({ isDrawer, handleClose, dataToEdit, onSuccess }: Props) => {\r\n    const [categories, setCategories] = useState<Category[]>([])\r\n    const [allNews, setAllNews] = useState<NewsPost[]>([])\r\n    const router = useRouter()\r\n    const searchParams = useSearchParams()\r\n\r\n    // Use dataToEdit id if in drawer, else URL param\r\n    const editId = isDrawer ? dataToEdit?.id : searchParams?.get('id')\r\n\r\n    const {\r\n        control,\r\n        handleSubmit,\r\n        reset,\r\n        setValue,\r\n        watch,\r\n        formState: { errors }\r\n    } = useForm<FormValues>({\r\n        defaultValues: {\r\n            category: '',\r\n            newsHeadline: '',\r\n            mainImage: '',\r\n            relatedNews: [],\r\n            sections: [{ title: '', content: '', imageUrl: '' }],\r\n            status: 'draft',\r\n            publishedDate: new Date()\r\n        }\r\n    })\r\n\r\n    const statusValue = watch('status')\r\n\r\n    const { fields, append, remove } = useFieldArray({\r\n        control,\r\n        name: 'sections'\r\n    })\r\n\r\n    useEffect(() => {\r\n        // Load Categories\r\n        const savedCategories = localStorage.getItem('news-categories')\n\r\n        if (savedCategories) {\r\n            setCategories(JSON.parse(savedCategories))\r\n        } else {\r\n            // Default categories if none exist\r\n            const defaultCategories = [{ id: '1', title: 'Startups' }, { id: '2', title: 'Technology' }, { id: '3', title: 'Business' }]\n\r\n            setCategories(defaultCategories)\r\n            localStorage.setItem('news-categories', JSON.stringify(defaultCategories))\r\n        }\r\n\r\n        const savedNews = JSON.parse(localStorage.getItem('news-posts') || '[]')\n\r\n        setAllNews(savedNews)\r\n\r\n        if (editId && (dataToEdit || !isDrawer)) {\r\n            const postToEdit = dataToEdit || savedNews.find((post: any) => post.id === editId)\r\n\r\n            if (postToEdit) {\r\n                reset({\r\n                    category: postToEdit.category || '',\r\n                    newsHeadline: postToEdit.newsHeadline || '',\r\n                    mainImage: postToEdit.mainImage || '',\r\n                    relatedNews: postToEdit.relatedNews || [],\r\n                    sections: postToEdit.sections || [{ title: '', content: '', imageUrl: '' }],\r\n                    status: postToEdit.status || 'draft',\r\n                    publishedDate: postToEdit.publishedDate ? new Date(postToEdit.publishedDate) : new Date()\r\n                })\r\n            }\r\n        }\r\n    }, [editId, reset, dataToEdit, isDrawer])\r\n\r\n    const onSubmit = (data: FormValues) => {\r\n        const savedNews = JSON.parse(localStorage.getItem('news-posts') || '[]')\r\n        const timestamp = new Date().toISOString()\r\n\r\n        const finalStatus = data.status\r\n\n        // Logic: if user clicks \"Publish now\" -> date is now. If \"Schedule\" -> check date.\r\n        // But here we rely on form values.\r\n\r\n        const finalData = {\r\n            ...data,\r\n            publishedDate: data.publishedDate ? data.publishedDate.toISOString() : null\r\n        }\r\n\r\n        let newNewsList\n\r\n        if (editId) {\r\n            newNewsList = savedNews.map((post: any) =>\r\n                post.id === editId ? { ...post, ...finalData, updatedAt: timestamp } : post\r\n            )\r\n        } else {\r\n            const newPost = {\r\n                id: Date.now().toString(),\r\n                ...finalData,\r\n                publishedAt: timestamp,\r\n                updatedAt: timestamp\r\n            }\n\r\n            newNewsList = [...savedNews, newPost]\r\n        }\r\n\r\n        localStorage.setItem('news-posts', JSON.stringify(newNewsList))\r\n\r\n        if (isDrawer) {\r\n            if (onSuccess) onSuccess()\r\n            if (handleClose) handleClose()\r\n        } else {\r\n            alert(editId ? 'News Updated!' : 'News Published!')\n\r\n            if (!editId) {\r\n                reset()\r\n            } else {\r\n                router.push('/apps/news/list')\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <Grid container spacing={6}>\r\n                <Grid size={{ xs: 12 }}>\r\n                    <Card className={isDrawer ? 'shadow-none border-none' : ''}>\r\n                        {!isDrawer && <CardHeader title='News Editing and Uploading' />}\r\n                        <CardContent className={isDrawer ? 'p-0' : ''}>\r\n                            <Grid container spacing={5}>\r\n                                <Grid size={{ xs: 12, sm: 6 }}>\r\n                                    <Controller\r\n                                        name='category'\r\n                                        control={control}\r\n                                        rules={{ required: true }}\r\n                                        render={({ field }) => (\r\n                                            <FormControl fullWidth error={Boolean(errors.category)}>\r\n                                                <InputLabel id='category-select'>Category</InputLabel>\r\n                                                <Select\r\n                                                    {...field}\r\n                                                    labelId='category-select'\r\n                                                    label='Category'\r\n                                                >\r\n                                                    <MenuItem value='' disabled>Select a Category</MenuItem>\r\n                                                    {categories.map((cat) => (\r\n                                                        <MenuItem key={cat.id} value={cat.title}>\r\n                                                            {cat.title}\r\n                                                        </MenuItem>\r\n                                                    ))}\r\n                                                </Select>\r\n                                                {errors.category && <Typography color='error' variant='caption'>Category is required</Typography>}\r\n                                            </FormControl>\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n                                <Grid size={{ xs: 12, sm: 6 }}>\r\n                                    <Controller\r\n                                        name='newsHeadline'\r\n                                        control={control}\r\n                                        rules={{ required: true }}\r\n                                        render={({ field }) => (\r\n                                            <TextField\r\n                                                {...field}\r\n                                                fullWidth\r\n                                                label='News Headline'\r\n                                                placeholder='Breaking News...'\r\n                                                error={Boolean(errors.newsHeadline)}\r\n                                                helperText={errors.newsHeadline && 'Headline is required'}\r\n                                            />\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n                                <Grid size={{ xs: 12 }}>\r\n                                    <Controller\r\n                                        name='relatedNews'\r\n                                        control={control}\r\n                                        render={({ field }) => (\r\n                                            <FormControl fullWidth>\r\n                                                <InputLabel id='related-news-label'>Related News</InputLabel>\r\n                                                <Select\r\n                                                    {...field}\r\n                                                    labelId='related-news-label'\r\n                                                    multiple\r\n                                                    input={<OutlinedInput label='Related News' />}\r\n                                                    renderValue={(selected) => (\r\n                                                        <div className='flex flex-wrap gap-2'>\r\n                                                            {(selected as string[]).map((value) => {\r\n                                                                const news = allNews.find((b: any) => b.id === value)\n\r\n                                                                \nreturn <Chip key={value} label={news?.newsHeadline || value} size='small' />\r\n                                                            })}\r\n                                                        </div>\r\n                                                    )}\r\n                                                >\r\n                                                    {allNews.map((news: any) => (\r\n                                                        news.id !== editId && (\r\n                                                            <MenuItem key={news.id} value={news.id}>\r\n                                                                {news.newsHeadline}\r\n                                                            </MenuItem>\r\n                                                        )\r\n                                                    ))}\r\n                                                </Select>\r\n                                            </FormControl>\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n                                <Grid size={{ xs: 12 }}>\r\n                                    <Controller\r\n                                        name='mainImage'\r\n                                        control={control}\r\n                                        render={({ field }) => (\r\n                                            <div className='flex items-center gap-4'>\r\n                                                <TextField\r\n                                                    {...field}\r\n                                                    size='small'\r\n                                                    fullWidth\r\n                                                    placeholder='No file chosen'\r\n                                                    variant='outlined'\r\n                                                    label='Main Image'\r\n                                                    slotProps={{\r\n                                                        input: {\r\n                                                            endAdornment: field.value ? (\r\n                                                                <InputAdornment position='end'>\r\n                                                                    <IconButton size='small' edge='end' onClick={() => field.onChange('')}>\r\n                                                                        <i className='ri-close-line' />\r\n                                                                    </IconButton>\r\n                                                                </InputAdornment>\r\n                                                            ) : null\r\n                                                        }\r\n                                                    }}\r\n                                                />\r\n                                                <Button component='label' variant='outlined' htmlFor='main-image-upload' className='min-is-fit'>\r\n                                                    Choose Image\r\n                                                    <input\r\n                                                        hidden\r\n                                                        id='main-image-upload'\r\n                                                        type='file'\r\n                                                        accept='image/*'\r\n                                                        onChange={(event) => {\r\n                                                            const { files } = event.target\n\r\n                                                            if (files && files.length !== 0) {\r\n                                                                field.onChange(files[0].name)\r\n                                                            }\r\n                                                        }}\r\n                                                    />\r\n                                                </Button>\r\n                                            </div>\r\n                                        )}\r\n                                    />\r\n                                </Grid>\r\n\r\n                                <Grid size={{ xs: 12, sm: 12 }}>\r\n                                    <FormControl>\r\n                                        <FormLabel id=\"status-group-label\" className='mbe-2'>Publishing Status</FormLabel>\r\n                                        <Controller\r\n                                            name=\"status\"\r\n                                            control={control}\r\n                                            render={({ field }) => (\r\n                                                <RadioGroup\r\n                                                    row\r\n                                                    aria-labelledby=\"status-group-label\"\r\n                                                    {...field}\r\n                                                >\r\n                                                    <FormControlLabel value=\"draft\" control={<Radio />} label=\"Draft\" />\r\n                                                    <FormControlLabel value=\"published\" control={<Radio />} label=\"Publish Now\" />\r\n                                                    <FormControlLabel value=\"scheduled\" control={<Radio />} label=\"Schedule\" />\r\n                                                </RadioGroup>\r\n                                            )}\r\n                                        />\r\n                                    </FormControl>\r\n                                </Grid>\r\n\r\n                                {statusValue === 'scheduled' && (\r\n                                    <Grid size={{ xs: 12, sm: 6 }}>\r\n                                        <Controller\r\n                                            name=\"publishedDate\"\r\n                                            control={control}\r\n                                            render={({ field }) => (\r\n                                                <div className='flex flex-col gap-2'>\r\n                                                    <InputLabel>Scheduled Date</InputLabel>\r\n                                                    <DatePicker\r\n                                                        selected={field.value}\r\n                                                        onChange={(date) => field.onChange(date)}\r\n                                                        showTimeSelect\r\n                                                        dateFormat=\"Pp\"\r\n                                                        className='w-full border rounded p-2'\r\n                                                        customInput={<TextField fullWidth size='small' />}\r\n                                                    />\r\n                                                </div>\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n                                )}\r\n                            </Grid>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Grid>\r\n\r\n                <Grid size={{ xs: 12 }}>\r\n                    <div className='flex items-center justify-between'>\r\n                        <Typography variant='h5'>News Content</Typography>\r\n                        <Button variant='contained' onClick={() => append({ title: '', content: '', imageUrl: '' })}>\r\n                            Add Section\r\n                        </Button>\r\n                    </div>\r\n                </Grid>\r\n\r\n                {fields.map((field, index) => (\r\n                    <Grid size={{ xs: 12 }} key={field.id}>\r\n                        <Card>\r\n                            <CardHeader\r\n                                title={`Section ${index + 1}`}\r\n                                action={\r\n                                    <IconButton onClick={() => remove(index)} color='error'>\r\n                                        <i className='ri-delete-bin-line' />\r\n                                    </IconButton>\r\n                                }\r\n                            />\r\n                            <CardContent>\r\n                                <Grid container spacing={5}>\r\n                                    <Grid size={{ xs: 12 }}>\r\n                                        <Controller\r\n                                            name={`sections.${index}.title`}\r\n                                            control={control}\r\n                                            rules={{ required: true }}\r\n                                            render={({ field }) => (\r\n                                                <TextField\r\n                                                    {...field}\r\n                                                    fullWidth\r\n                                                    label='Section Title'\r\n                                                    placeholder='Subheading'\r\n                                                    error={Boolean(errors.sections?.[index]?.title)}\r\n                                                    helperText={errors.sections?.[index]?.title && 'Title is required'}\r\n                                                />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid size={{ xs: 12 }}>\r\n                                        <div className='flex items-center gap-4'>\r\n                                            <Controller\r\n                                                name={`sections.${index}.imageUrl`}\r\n                                                control={control}\r\n                                                render={({ field }) => (\r\n                                                    <TextField\r\n                                                        {...field}\r\n                                                        size='small'\r\n                                                        fullWidth\r\n                                                        label='Section Image URL'\r\n                                                        placeholder='No file chosen'\r\n                                                        variant='outlined'\r\n                                                        slotProps={{\r\n                                                            input: {\r\n                                                                endAdornment: field.value ? (\r\n                                                                    <InputAdornment position='end'>\r\n                                                                        <IconButton size='small' edge='end' onClick={() => field.onChange('')}>\r\n                                                                            <i className='ri-close-line' />\r\n                                                                        </IconButton>\r\n                                                                    </InputAdornment>\r\n                                                                ) : null\r\n                                                            }\r\n                                                        }}\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n                                            <Button component='label' variant='outlined' htmlFor={`section-image-upload-${index}`} className='min-is-fit'>\r\n                                                Choose Image\r\n                                                <input\r\n                                                    hidden\r\n                                                    id={`section-image-upload-${index}`}\r\n                                                    type='file'\r\n                                                    accept='image/*'\r\n                                                    onChange={(event) => {\r\n                                                        const { files } = event.target\n\r\n                                                        if (files && files.length !== 0) {\r\n                                                            setValue(`sections.${index}.imageUrl`, files[0].name)\r\n                                                        }\r\n                                                    }}\r\n                                                />\r\n                                            </Button>\r\n                                        </div>\r\n                                    </Grid>\r\n                                    <Grid size={{ xs: 12 }}>\r\n                                        <Typography className='mbe-2'>Description</Typography>\r\n                                        <Controller\r\n                                            name={`sections.${index}.content`}\r\n                                            control={control}\r\n                                            render={({ field }) => (\r\n                                                <TiptapEditor value={field.value} onChange={field.onChange} />\r\n                                            )}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </Grid>\r\n                ))}\r\n\r\n                <Grid size={{ xs: 12 }} className='flex justify-end pbe-10 gap-4'>\r\n                    {isDrawer && handleClose && (\r\n                        <Button variant='outlined' color='secondary' onClick={handleClose}>\r\n                            Cancel\r\n                        </Button>\r\n                    )}\r\n                    <Button variant='contained' size='large' type='submit'>\r\n                        {editId ? 'Update News' : 'Publish News'}\r\n                    </Button>\r\n                </Grid>\r\n            </Grid>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default NewsEditor\r\n","usedDeprecatedRules":[{"ruleId":"lines-around-comment","replacedBy":[]},{"ruleId":"padding-line-between-statements","replacedBy":[]},{"ruleId":"newline-before-return","replacedBy":["padding-line-between-statements"]}]},{"filePath":"D:\\work\\arGM_Admin\\src\\views\\apps\\news\\list\\AddCategoryDrawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"lines-around-comment","replacedBy":[]},{"ruleId":"padding-line-between-statements","replacedBy":[]},{"ruleId":"newline-before-return","replacedBy":["padding-line-between-statements"]}]},{"filePath":"D:\\work\\arGM_Admin\\src\\views\\apps\\news\\list\\NewsList.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'Link' is defined but never used.","line":5,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":5,"endColumn":12}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client'\r\n\r\nimport { useState, useEffect } from 'react'\n\r\nimport Link from 'next/link'\r\n\r\nimport Card from '@mui/material/Card'\r\nimport CardHeader from '@mui/material/CardHeader'\r\nimport CardContent from '@mui/material/CardContent'\r\nimport Button from '@mui/material/Button'\r\nimport Typography from '@mui/material/Typography'\r\nimport IconButton from '@mui/material/IconButton'\r\nimport Tooltip from '@mui/material/Tooltip'\r\nimport Chip from '@mui/material/Chip'\r\nimport Drawer from '@mui/material/Drawer'\r\nimport Table from '@mui/material/Table'\r\nimport TableBody from '@mui/material/TableBody'\r\nimport TableCell from '@mui/material/TableCell'\r\nimport TableContainer from '@mui/material/TableContainer'\r\nimport TableHead from '@mui/material/TableHead'\r\nimport TableRow from '@mui/material/TableRow'\r\nimport TablePagination from '@mui/material/TablePagination'\r\nimport TextField from '@mui/material/TextField'\r\nimport InputAdornment from '@mui/material/InputAdornment'\r\n\r\nimport NewsEditor from '../NewsEditor'\r\nimport AddCategoryDrawer from './AddCategoryDrawer'\r\n\r\ntype NewsPost = {\r\n    id: string\r\n    newsHeadline: string\r\n    category: string\r\n    status: string\r\n    publishedDate: string | null\r\n    updatedAt: string\r\n}\r\n\r\nconst NewsList = () => {\r\n    const [news, setNews] = useState<NewsPost[]>([])\r\n    const [categoryDrawerOpen, setCategoryDrawerOpen] = useState(false)\r\n    const [newsDrawerOpen, setNewsDrawerOpen] = useState(false)\r\n    const [selectedNews, setSelectedNews] = useState<NewsPost | undefined>(undefined)\r\n\r\n    // Pagination and Search State\r\n    const [page, setPage] = useState(0)\r\n    const [rowsPerPage, setRowsPerPage] = useState(10)\r\n    const [searchTerm, setSearchTerm] = useState('')\r\n\r\n    const fetchNews = () => {\r\n        const savedNews = JSON.parse(localStorage.getItem('news-posts') || '[]')\n\r\n        setNews(savedNews)\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchNews()\r\n    }, [])\r\n\r\n    const handleEdit = (post: NewsPost) => {\r\n        setSelectedNews(post)\r\n        setNewsDrawerOpen(true)\r\n    }\r\n\r\n    const handleDelete = (id: string) => {\r\n        if (confirm('Are you sure you want to delete this news?')) {\r\n            const updatedNews = news.filter(item => item.id !== id)\n\r\n            localStorage.setItem('news-posts', JSON.stringify(updatedNews))\r\n            setNews(updatedNews)\r\n        }\r\n    }\r\n\r\n    const handleNewsSuccess = () => {\r\n        fetchNews()\r\n        setNewsDrawerOpen(false)\r\n        setSelectedNews(undefined)\r\n    }\r\n\r\n    const handleNewsDrawerClose = () => {\r\n        setNewsDrawerOpen(false)\r\n        setSelectedNews(undefined)\r\n    }\r\n\r\n    // Pagination Handlers\r\n    const handleChangePage = (event: unknown, newPage: number) => {\r\n        setPage(newPage)\r\n    }\r\n\r\n    const handleChangeRowsPerPage = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setRowsPerPage(parseInt(event.target.value, 10))\r\n        setPage(0)\r\n    }\r\n\r\n    // Filter and Pagination Logic\r\n    const filteredNews = news.filter((item) => {\r\n        const term = searchTerm.toLowerCase()\n\r\n        \nreturn (\r\n            item.newsHeadline.toLowerCase().includes(term) ||\r\n            item.category.toLowerCase().includes(term)\r\n        )\r\n    })\r\n\r\n    const displayedNews = filteredNews.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader\r\n                title='News List'\r\n                action={\r\n                    <div className='flex gap-2 items-center'>\r\n                        <TextField\r\n                            size='small'\r\n                            placeholder='Search News...'\r\n                            variant='outlined'\r\n                            value={searchTerm}\r\n                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                            InputProps={{\r\n                                startAdornment: (\r\n                                    <InputAdornment position='start'>\r\n                                        <i className='ri-search-line' />\r\n                                    </InputAdornment>\r\n                                )\r\n                            }}\r\n                        />\r\n                        <Button variant='outlined' onClick={() => setCategoryDrawerOpen(true)}>\r\n                            Manage Categories\r\n                        </Button>\r\n                        <Button variant='contained' onClick={() => { setSelectedNews(undefined); setNewsDrawerOpen(true); }}>\r\n                            Add News\r\n                        </Button>\r\n                    </div>\r\n                }\r\n            />\r\n            <CardContent>\r\n                <TableContainer>\r\n                    <Table>\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell>Headline</TableCell>\r\n                                <TableCell>Category</TableCell>\r\n                                <TableCell>Status</TableCell>\r\n                                <TableCell>Published Date</TableCell>\r\n                                <TableCell align='right'>Actions</TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {displayedNews.length > 0 ? (\r\n                                displayedNews.map((item) => (\r\n                                    <TableRow key={item.id}>\r\n                                        <TableCell>\r\n                                            <Typography variant='subtitle1' className='font-medium'>{item.newsHeadline}</Typography>\r\n                                            <Typography variant='caption' color='text.secondary'>ID: {item.id}</Typography>\r\n                                        </TableCell>\r\n                                        <TableCell>\r\n                                            <Chip label={item.category} size='small' color='primary' variant='outlined' />\r\n                                        </TableCell>\r\n                                        <TableCell>\r\n                                            <Chip\r\n                                                label={item.status || 'Draft'}\r\n                                                size='small'\r\n                                                color={item.status === 'published' ? 'success' : item.status === 'scheduled' ? 'warning' : 'default'}\r\n                                            />\r\n                                        </TableCell>\r\n                                        <TableCell>\r\n                                            {item.publishedDate ? new Date(item.publishedDate).toLocaleString() : '-'}\r\n                                        </TableCell>\r\n                                        <TableCell align='right'>\r\n                                            <div className='flex justify-end gap-2'>\r\n                                                <Tooltip title='Edit'>\r\n                                                    <IconButton color='primary' size='small' onClick={() => handleEdit(item)}>\r\n                                                        <i className='ri-pencil-line' />\r\n                                                    </IconButton>\r\n                                                </Tooltip>\r\n                                                <Tooltip title='Delete'>\r\n                                                    <IconButton color='error' size='small' onClick={() => handleDelete(item.id)}>\r\n                                                        <i className='ri-delete-bin-line' />\r\n                                                    </IconButton>\r\n                                                </Tooltip>\r\n                                            </div>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                ))\r\n                            ) : (\r\n                                <TableRow>\r\n                                    <TableCell colSpan={5} align='center'>\r\n                                        <Typography className='p-5'>No news found.</Typography>\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            )}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n                <TablePagination\r\n                    rowsPerPageOptions={[5, 10, 25]}\r\n                    component='div'\r\n                    count={filteredNews.length}\r\n                    rowsPerPage={rowsPerPage}\r\n                    page={page}\r\n                    onPageChange={handleChangePage}\r\n                    onRowsPerPageChange={handleChangeRowsPerPage}\r\n                />\r\n            </CardContent>\r\n\r\n            <AddCategoryDrawer\r\n                open={categoryDrawerOpen}\r\n                handleClose={() => setCategoryDrawerOpen(false)}\r\n            />\r\n\r\n            <Drawer\r\n                open={newsDrawerOpen}\r\n                anchor='right'\r\n                onClose={handleNewsDrawerClose}\r\n                ModalProps={{ keepMounted: false }} // Unmount to reset form state completely\r\n                sx={{ '& .MuiDrawer-paper': { width: { xs: '100%', md: '800px', lg: '1000px' } } }}\r\n            >\r\n                <div className='flex items-center justify-between pli-5 plb-4 border-b'>\r\n                    <Typography variant='h5'>{selectedNews ? 'Edit News' : 'Add News'}</Typography>\r\n                    <IconButton size='small' onClick={handleNewsDrawerClose}>\r\n                        <i className='ri-close-line text-2xl' />\r\n                    </IconButton>\r\n                </div>\r\n                <div className='p-5 overflow-y-auto'>\r\n                    <NewsEditor\r\n                        isDrawer={true}\r\n                        handleClose={handleNewsDrawerClose}\r\n                        onSuccess={handleNewsSuccess}\r\n                        dataToEdit={selectedNews}\r\n                    />\r\n                </div>\r\n            </Drawer>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default NewsList\r\n","usedDeprecatedRules":[{"ruleId":"lines-around-comment","replacedBy":[]},{"ruleId":"padding-line-between-statements","replacedBy":[]},{"ruleId":"newline-before-return","replacedBy":["padding-line-between-statements"]}]}]